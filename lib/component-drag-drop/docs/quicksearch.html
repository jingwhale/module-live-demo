<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"draggable.js.html":{"id":"draggable.js.html","title":"Source: draggable.js","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Source: draggable.js /** * Draggable 拖拽类文件 * * @version 1.0 * @author cqh &lt;cqh@corp.netease.com&gt; * @module pool/component-drag-drop/src/draggable */ NEJ.define([ 'pool/component-base/src/base', './util.js', './dragDrop.js' ],function( Base, _, dragDrop ){ /** * drag基类 * * @example * &lt;ux-draggable&gt; your html or component&lt;/ux-draggable&gt; * * @class * @extend module:pool/component-base/src/base.Base * @param {Object} options.data 初始化属性 * @param {Object} [options.data.data=null] 拖拽传递的数据 * @param {String|Element|Function} [options.data.proxy=&quot;clone&quot;] 拖拽代理，即拖拽时显示的元素。支持clone/self/选择器,直接传入代理元素，函数(返回代理元素)，&lt;draggable.proxy&gt;包裹代理元素 * @param {String} [options.data.direction=&quot;all&quot;] 拖拽代理可以移动的方向，`all`为任意方向，`horizontal`为水平方向，`vertical`为垂直方向 * @param {Boolean} [options.data.disabled=false] 是否禁用 * @param {String} [options.data.class='z-draggable'] 可拖拽时（即disabled=false）给元素附加此class * @param {String} [options.data.dragClass='z-drag'] 拖拽该元素时给元素附加此class * @param {Boolean} [options.data.notPreventDefault=false] mousedown的时候是否preventDefault,默认阻止 * */ // 解决点击一下，两个事件mouseDown var _mouseDownFlag = false; var _useragent = window.navigator.userAgent; // ie8有offsetLeft兼容性问题，直接不显示代理元素 var isIe8 = new RegExp(&quot;MSIE 8.0&quot;,'i').test(_useragent); var Draggable = Base.extend({ name: 'ux-draggable', template: '{#inc this.$body}', /** * 初始化-config * * @protected * @method * @return {Void} */ config: function() { _.extend(this.data, { data: null, proxy: 'clone', direction: 'all', 'class': 'z-draggable', dragClass: 'z-drag' }); this.supr(); this._onMouseDown = this._onMouseDown.bind(this); this._onBodyMouseMove = this._onBodyMouseMove.bind(this); this._onBodyMouseUp = this._onBodyMouseUp.bind(this); this.cancel = this.cancel.bind(this); }, /** * 初始化-init * * @protected * @method * @return {Void} */ init: function() { var inner = _.dom.element(this); _.dom.on(inner, 'mousedown', this._onMouseDown); this.supr(); this.$watch('disabled', function(newValue) { if(newValue){ _.dom.delClass(inner, this.data['class']); }else{ _.dom.addClass(inner, this.data['class']); } }); }, /** * @method 获取拖拽代理 * @private * @return {Element} 拖拽代理元素 */ _getProxy: function() { var dimension, proxy; if(typeof this.data.proxy === 'function'){ return this.data.proxy(); } else if(this.data.proxy.nodeType &amp;&amp; this.data.proxy instanceof Element) { // 直接传入页面中有的元素进行代理 proxy = this.data.proxy.cloneNode(true); dimension = _.dom.getDimension(_.dom.element(this)); this._initProxy(proxy, dimension); this.data.proxy.parentElement.appendChild(proxy); return proxy; } else if(this.data.proxy instanceof Draggable.Proxy) { proxy = _.dom.element(this.data.proxy); dimension = _.dom.getDimension(_.dom.element(this)); this._initProxy(proxy, dimension); document.body.appendChild(proxy); return proxy; } else if(this.data.proxy === 'clone') { var self = _.dom.element(this); dimension = _.dom.getDimension(self); proxy = self.cloneNode(true); this._initProxy(proxy, dimension); self.parentElement.appendChild(proxy); return proxy; } else if(this.data.proxy === 'self') { proxy = _.dom.element(this); dimension = _.dom.getDimension(proxy); this._initProxy(proxy, dimension); return proxy; } else if(typeof this.data.proxy === 'string'){ // 选择器 var oldProxy = _.dom.find(this.data.proxy); if(!oldProxy){return} proxy = oldProxy.cloneNode(true); dimension = _.dom.getDimension(_.dom.element(this)); this._initProxy(proxy, dimension); oldProxy.parentElement.appendChild(proxy); return proxy; } }, /** * @method 初始化拖拽代理 * @private * @return {void} */ _initProxy: function(proxy, dimension) { proxy.style.left = dimension.left + (this.data.leftFix||0) + 'px'; //可以传入leftFix topFix进行修正 proxy.style.top = dimension.top + (this.data.topFix||0) + 'px'; proxy.style.zIndex = '2000'; proxy.style.position = 'fixed'; proxy.style.display = ''; if(isIe8){ proxy.style.display = 'none'; } }, /** * @method mouseDown函数 * @private * @return {void} */ _onMouseDown: function($event) { if(_mouseDownFlag||this.data.disabled){ return; } _mouseDownFlag = true; if(!this.data.notPreventDefault){ $event.preventDefault(); } //避免选中元素 _.dom.addClass(document.body, 'f-unselectable'); _.dom.on(document, 'mousemove', this._onBodyMouseMove); _.dom.on(document, 'mouseup', this._onBodyMouseUp); }, /** * @method mouseMove函数 * @private * @return {void} */ _onBodyMouseMove: function($event) { _mouseDownFlag = false; var e = $event.event; $event.preventDefault(); if(dragDrop.dragging === false) { _.extend(dragDrop, { dragging: true, data: this.data.data, proxy: this._getProxy(), screenX: e.screenX, screenY: e.screenY, clientX: e.clientX, clientY: e.clientY, pageX: e.pageX, pageY: e.pageY, movementX: 0, movementY: 0, droppable: undefined }, true); this._dragStart(); } else { _.extend(dragDrop, { screenX: e.screenX, screenY: e.screenY, clientX: e.clientX, clientY: e.clientY, pageX: e.pageX, pageY: e.pageY, movementX: e.screenX - dragDrop.screenX, movementY: e.screenY - dragDrop.screenY }, true); if(dragDrop.proxy) { if(this.data.direction === 'all' || this.data.direction === 'horizontal') dragDrop.proxy.style.left = dragDrop.proxy.offsetLeft + dragDrop.movementX + 'px'; if(this.data.direction === 'all' || this.data.direction === 'vertical') dragDrop.proxy.style.top = dragDrop.proxy.offsetTop + dragDrop.movementY + 'px'; } this._drag(); if(!dragDrop.dragging) return; // Drop var pointElement = null; if(dragDrop.proxy) { dragDrop.proxy.style.display = 'none'; pointElement = document.elementFromPoint(e.clientX, e.clientY); if(!isIe8){ dragDrop.proxy.style.display = ''; } } else{ pointElement = document.elementFromPoint(e.clientX, e.clientY); } var element = pointElement; var pointDroppable = null; while(element) { pointDroppable = dragDrop.droppables.find(function(droppable){ var target = _.dom.element(droppable); if(element === target){ return true; } }); if(pointDroppable){ break; } element = element.parentElement; } if(dragDrop.droppable !== pointDroppable) { dragDrop.droppable &amp;&amp; dragDrop.droppable._dragLeave(this); if(!dragDrop.dragging) return; pointDroppable &amp;&amp; pointDroppable._dragEnter(this); if(!dragDrop.dragging) return; dragDrop.droppable = pointDroppable; } else pointDroppable &amp;&amp; pointDroppable._dragOver(this); } }, /** * @method mouseUp函数 * @private * @return {void} */ _onBodyMouseUp: function($event) { _mouseDownFlag = false; var e = $event.event; $event.preventDefault(); _.dom.delClass(document.body, 'f-unselectable'); this._dragEnd(); dragDrop.droppable &amp;&amp; dragDrop.droppable._drop(this); this.cancel(); }, /** * 组件change的响应方法 * * @private * @method * @return {Void} */ cancel: function() { _.extend(dragDrop, { dragging: false, data: null, proxy: null, screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, movementX: 0, movementY: 0, droppable: undefined }, true); _.dom.off(document, 'mousemove', this._onBodyMouseMove); _.dom.off(document, 'mouseup', this._onBodyMouseUp); }, /** * @private */ _dragStart: function(e) { if(dragDrop.proxy) _.dom.addClass(dragDrop.proxy, this.data.dragClass); /** * @event dragstart 拖拽开始时触发 * @param {Object} sender 事件发送对象，为当前draggable * @param {Object} origin 拖拽源，为当前draggable * @param {Object} source 拖拽起始元素 * @param {Object} proxy 拖拽代理元素 * @param {Object} data 拖拽时需要传递的数据 * @param {Number} screenX 鼠标指针相对于屏幕的水平位置 * @param {Number} screenY 鼠标指针相对于屏幕的垂直位置 * @param {Number} clientX 鼠标指针相对于浏览器的水平位置 * @param {Number} clientY 鼠标指针相对于浏览器的垂直位置 * @param {Number} pageX 鼠标指针相对于页面的水平位置 * @param {Number} pageY 鼠标指针相对于页面的垂直位置 * @param {Number} movementX 鼠标指针水平位置相对于上次操作的偏移量 * @param {Number} movementY 鼠标指针垂直位置相对于上次操作的偏移量 * @param {Function} cancel 取消拖拽操作 */ this.$emit('dragstart', _.extend({ sender: this, origin: this, source: _.dom.element(this), proxy: dragDrop.proxy, cancel: this.cancel }, dragDrop)); }, /** * @method 正在拖拽函数 * @private * @return {void} */ _drag: function() { /** * @event drag 正在拖拽时触发 * @param {Object} sender 事件发送对象，为当前draggable * @param {Object} origin 拖拽源，为当前draggable * @param {Object} source 拖拽起始元素 * @param {Object} proxy 拖拽代理元素 * @param {Object} data 拖拽时需要传递的数据 * @param {Number} screenX 鼠标指针相对于屏幕的水平位置 * @param {Number} screenY 鼠标指针相对于屏幕的垂直位置 * @param {Number} clientX 鼠标指针相对于浏览器的水平位置 * @param {Number} clientY 鼠标指针相对于浏览器的垂直位置 * @param {Number} pageX 鼠标指针相对于页面的水平位置 * @param {Number} pageY 鼠标指针相对于页面的垂直位置 * @param {Number} movementX 鼠标指针水平位置相对于上次操作的偏移量 * @param {Number} movementY 鼠标指针垂直位置相对于上次操作的偏移量 * @param {Function} cancel 取消拖拽操作 */ this.$emit('drag', _.extend({ sender: this, origin: this, source: _.dom.element(this), proxy: dragDrop.proxy, cancel: this.cancel }, dragDrop)); }, /** * @method 拖拽结束函数 * @private * @return {void} */ _dragEnd: function() { /** * @event dragend 拖拽结束时触发 * @param {Object} sender 事件发送对象，为当前draggable * @param {Object} origin 拖拽源，为当前draggable * @param {Object} source 拖拽起始元素 * @param {Object} proxy 拖拽代理元素 */ this.$emit('dragend', { sender: this, origin: this, source: _.dom.element(this), proxy: dragDrop.proxy }); if(dragDrop.proxy) { if(this.data.proxy != 'self') //销毁 dragDrop.proxy.parentElement.removeChild(dragDrop.proxy); _.dom.delClass(dragDrop.proxy, this.data.dragClass); } } }); Draggable.Proxy = Base.extend({ name: 'draggable.proxy', template: '{#inc this.$body}', init: function() { if(this.$outer instanceof Draggable) { _.dom.element(this).style.display = 'none'; this.$outer.data.proxy = this; } } }); return Draggable; }); × Search results Close "},"droppable.js.html":{"id":"droppable.js.html","title":"Source: droppable.js","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Source: droppable.js /** * Droppable 放置类文件 * * @version 1.0 * @author cqh &lt;cqh@corp.netease.com&gt; * @module pool/component-drag-drop/src/droppable */ NEJ.define([ 'pool/component-base/src/base', './util.js', './dragDrop.js' ],function( Base, _, dragDrop ){ /** * drop基类 * * @example * &lt;ux-droppable&gt; your html or component&lt;/ux-droppable&gt; * * @class * @extend module:pool/component-base/src/base.Base * @param {Object} options.data 初始化属性 * @param {Object} [options.data.data=null] 拖放后传递过来的数据 * @param {Boolean} [options.data.disabled=false] 是否禁用 * @param {String} [options.data.class='z-droppable'] 可放置时（即disabled=false）给元素附加此class * @param {String} [options.data.dragOverClass='z-dragover'] 当有拖拽元素经过时，给drop容器加上次类名 * */ var Droppable = Base.extend({ name: 'ux-droppable', template: '{#inc this.$body}', /** * 初始化-config * * @protected * @method * @return {Void} */ config: function() { _.extend(this.data, { data: null, 'class': 'z-droppable', dragOverClass: 'z-dragover' }); this.supr(); dragDrop.droppables.push(this); }, /** * 初始化-init * * @protected * @method * @return {Void} */ init: function() { var inner = _.dom.element(this); this.$watch('disabled', function(newValue) { if(newValue) _.dom.delClass(inner, this.data['class']); else _.dom.addClass(inner, this.data['class']); }); this.supr(); }, /** * 销毁-destroy * * @protected * @method * @return {Void} */ destroy: function() { dragDrop.droppables.splice(dragDrop.droppables.indexOf(this), 1); this.supr(); }, /** * @method 拖拽进入 * @private * @return {Void} */ _dragEnter: function(origin) { var element = _.dom.element(this); /** * @event dragenter 拖拽进入该元素时触发 * @property {Object} sender 事件发送对象，为当前droppable * @property {Object} origin 拖拽源，为拖拽的draggable * @property {Object} source 拖拽起始元素 * @property {Object} proxy 拖拽代理元素 * @property {Object} target 拖拽目标元素 * @property {Object} data 拖拽时接收到的数据 * @property {Number} screenX 鼠标指针相对于屏幕的水平位置 * @property {Number} screenY 鼠标指针相对于屏幕的垂直位置 * @property {Number} clientX 鼠标指针相对于浏览器的水平位置 * @property {Number} clientY 鼠标指针相对于浏览器的垂直位置 * @property {Number} pageX 鼠标指针相对于页面的水平位置 * @property {Number} pageY 鼠标指针相对于页面的垂直位置 * @property {Number} movementX 鼠标指针水平位置相对于上次操作的偏移量 * @property {Number} movementY 鼠标指针垂直位置相对于上次操作的偏移量 * @property {Function} cancel 取消拖拽操作 */ this.$emit('dragenter', _.extend({ sender: this, origin: origin, source: _.dom.element(origin), target: element, cancel: origin.cancel }, dragDrop)); }, /** * @method 拖拽离开 * @private * @return {Void} */ _dragLeave: function(origin) { if(this.data.disabled){ this.data.disabled = false; this.$update(); return; } var element = _.dom.element(this); _.dom.delClass(element, this.data.dragOverClass); /** * @event dragleave 拖拽离开该元素时触发 * @property {Object} sender 事件发送对象，为当前droppable * @property {Object} origin 拖拽源，为拖拽的draggable * @property {Object} source 拖拽起始元素 * @property {Object} proxy 拖拽代理元素 * @property {Object} target 拖拽目标元素 * @property {Object} data 拖拽时接收到的数据 * @property {Number} screenX 鼠标指针相对于屏幕的水平位置 * @property {Number} screenY 鼠标指针相对于屏幕的垂直位置 * @property {Number} clientX 鼠标指针相对于浏览器的水平位置 * @property {Number} clientY 鼠标指针相对于浏览器的垂直位置 * @property {Number} pageX 鼠标指针相对于页面的水平位置 * @property {Number} pageY 鼠标指针相对于页面的垂直位置 * @property {Number} movementX 鼠标指针水平位置相对于上次操作的偏移量 * @property {Number} movementY 鼠标指针垂直位置相对于上次操作的偏移量 * @property {Function} cancel 取消拖拽操作 */ this.$emit('dragleave', _.extend({ sender: this, origin: origin, source: _.dom.element(origin), target: element, cancel: origin.cancel }, dragDrop)); }, /** * @method 拖拽在上方 * @private * @return {Void} */ _dragOver: function(origin) { if(this.data.disabled){ return; } var element = _.dom.element(this); var dimension = _.dom.getDimension(element); _.dom.addClass(element, this.data.dragOverClass); /** * @event dragover 拖拽在该元素上方时触发 * @property {Object} sender 事件发送对象，为当前droppable * @property {Object} origin 拖拽源，为拖拽的draggable * @property {Object} source 拖拽起始元素 * @property {Object} proxy 拖拽代理元素 * @property {Object} target 拖拽目标元素 * @property {Object} data 拖拽时接收到的数据 * @property {Number} ratioX 鼠标指针相对于接收元素所占的长度比 * @property {Number} ratioY 鼠标指针相对于接收元素所占的高度比 * @property {Number} screenX 鼠标指针相对于屏幕的水平位置 * @property {Number} screenY 鼠标指针相对于屏幕的垂直位置 * @property {Number} clientX 鼠标指针相对于浏览器的水平位置 * @property {Number} clientY 鼠标指针相对于浏览器的垂直位置 * @property {Number} pageX 鼠标指针相对于页面的水平位置 * @property {Number} pageY 鼠标指针相对于页面的垂直位置 * @property {Number} movementX 鼠标指针水平位置相对于上次操作的偏移量 * @property {Number} movementY 鼠标指针垂直位置相对于上次操作的偏移量 * @property {Function} cancel 取消拖拽操作 */ this.$emit('dragover', _.extend({ sender: this, origin: origin, source: _.dom.element(origin), target: element, ratioX: (dragDrop.clientX - dimension.left)/dimension.width, ratioY: (dragDrop.clientY - dimension.top)/dimension.height, cancel: origin.cancel }, dragDrop)); }, /** * @method 拖拽释放入 * @private * @return {Void} */ _drop: function(origin) { if(this.data.disabled){ this.data.disabled = false; this.$update(); return; } var element = _.dom.element(this); _.dom.delClass(element, this.data.dragOverClass); var dimension = _.dom.getDimension(element); this.data.data = origin.data.data; this.$update(); /** * @event drop 拖拽放置时触发 * @property {Object} sender 事件发送对象，为当前droppable * @property {Object} origin 拖拽源，为拖拽的draggable * @property {Object} source 拖拽起始元素 * @property {Object} proxy 拖拽代理元素 * @property {Object} target 拖拽目标元素 * @property {Object} data 拖拽时接收到的数据 * @property {Number} ratioX 鼠标指针相对于接收元素所占的长度比 * @property {Number} ratioY 鼠标指针相对于接收元素所占的高度比 * @property {Number} screenX 鼠标指针相对于屏幕的水平位置 * @property {Number} screenY 鼠标指针相对于屏幕的垂直位置 * @property {Number} clientX 鼠标指针相对于浏览器的水平位置 * @property {Number} clientY 鼠标指针相对于浏览器的垂直位置 * @property {Number} pageX 鼠标指针相对于页面的水平位置 * @property {Number} pageY 鼠标指针相对于页面的垂直位置 * @property {Number} movementX 鼠标指针水平位置相对于上次操作的偏移量 * @property {Number} movementY 鼠标指针垂直位置相对于上次操作的偏移量 */ this.$emit('drop', _.extend({ sender: this, origin: origin, source: _.dom.element(origin), target: element, ratioX: (dragDrop.clientX - dimension.left)/dimension.width, ratioY: (dragDrop.clientY - dimension.top)/dimension.height }, dragDrop)); } }); return Droppable; }); × Search results Close "},"dragDrop.js.html":{"id":"dragDrop.js.html","title":"Source: dragDrop.js","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Source: dragDrop.js /** * ---------------------------------------------------------- * 拖拽数据模型 * @version 1.0 * @author cqh &lt;cqh@corp.netease.com&gt; * @module pool/component-drag-drop/src/dragDrop * */ NEJ.define([ ],function( ){ var dragdrop = { dragging: false, data: null, proxy: null, screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, movementX: 0, movementY: 0, droppable: null, droppables: [] }; return dragdrop; }); × Search results Close "},"util.js.html":{"id":"util.js.html","title":"Source: util.js","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Source: util.js /** * drag-drop 工具类文件 * * @version 1.0 * @author cqh &lt;cqh@corp.netease.com&gt; * @module pool/component-drag-drop/src/util */ NEJ.define( [ 'pool/component-base/src/util' ],function( util ){ /** * 获取元素相对于document边界的top,left * * @method getPosition * @param {Element} elem * @return {Object} {top: xx, left: xx} */ util.dom.getPosition = function (elem) { var doc = elem &amp;&amp; elem.ownerDocument, docElem = doc.documentElement, body = doc.body; var box = elem.getBoundingClientRect ? elem.getBoundingClientRect() : {top: 0, left: 0}; var clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0; return {top: box.top - clientTop, left: box.left - clientLeft}; }; /** * 获取元素的clientWidth，clientHeight * * @method getOffset * @param {Element} elem * @return {Object} {width: xx, height: xx} */ util.dom.getOffset = function (elem) { return {width: elem.clientWidth, height: elem.clientHeight}; }; /** * 获取元素的位置信息 * * @method getDimension * @param {Element} elem * @return {Object} {width: xx, height: xx, top:xx ,left:xx} */ util.dom.getDimension = function (elem) { return util.extend(util.dom.getOffset(elem), util.dom.getPosition(elem)); }; return util; }); × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Modules Events drag 正在拖拽时触发 Parameters: Name Type Description sender Object 事件发送对象，为当前draggable origin Object 拖拽源，为当前draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 data Object 拖拽时需要传递的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: draggable.js, line 356 dragend 拖拽结束时触发 Parameters: Name Type Description sender Object 事件发送对象，为当前draggable origin Object 拖拽源，为当前draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 Source: draggable.js, line 387 dragenter 拖拽进入该元素时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: droppable.js, line 94 dragleave 拖拽离开该元素时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: droppable.js, line 135 dragover 拖拽在该元素上方时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 ratioX Number 鼠标指针相对于接收元素所占的长度比 ratioY Number 鼠标指针相对于接收元素所占的高度比 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: droppable.js, line 176 dragstart 拖拽开始时触发 Parameters: Name Type Description sender Object 事件发送对象，为当前draggable origin Object 拖拽源，为当前draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 data Object 拖拽时需要传递的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: draggable.js, line 324 drop 拖拽放置时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 ratioX Number 鼠标指针相对于接收元素所占的长度比 ratioY Number 鼠标指针相对于接收元素所占的高度比 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 Source: droppable.js, line 225 × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 组件模板工程使用步骤 在 gitlab 上以此工程做为模板创建组件工程 （新建工程时使用 “Import project from”） 获取新建组件仓库代码 执行sh bin/install.sh生成模板代码 修改 bower.json 添加组件依赖包 仓库根路径下运行 npm install 命令安装测试依赖环境 仓库根路径下运行 bower install 命令安装组件依赖环境 开发组件（规范查看xxx） 编写组件单元测试（规范查看xxxx） 仓库根路径下运行 npm test 命令执行单元测试 × Search results Close "},"module-pool_component-drag-drop_src_draggable.html":{"id":"module-pool_component-drag-drop_src_draggable.html","title":"Module: pool/component-drag-drop/src/draggable","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Module: pool/component-drag-drop/src/draggable Draggable 拖拽类文件 Version: 1.0 Author: cqh Source: draggable.js, line 1 Methods &lt;protected, inner&gt; config() 初始化-config Source: draggable.js, line 54 Returns: Type Void &lt;protected, inner&gt; init() 初始化-init Source: draggable.js, line 77 Returns: Type Void Events drag 正在拖拽时触发 Parameters: Name Type Description sender Object 事件发送对象，为当前draggable origin Object 拖拽源，为当前draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 data Object 拖拽时需要传递的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: draggable.js, line 356 dragend 拖拽结束时触发 Parameters: Name Type Description sender Object 事件发送对象，为当前draggable origin Object 拖拽源，为当前draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 Source: draggable.js, line 387 dragstart 拖拽开始时触发 Parameters: Name Type Description sender Object 事件发送对象，为当前draggable origin Object 拖拽源，为当前draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 data Object 拖拽时需要传递的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: draggable.js, line 324 × Search results Close "},"module-pool_component-drag-drop_src_droppable.html":{"id":"module-pool_component-drag-drop_src_droppable.html","title":"Module: pool/component-drag-drop/src/droppable","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Module: pool/component-drag-drop/src/droppable Droppable 放置类文件 Version: 1.0 Author: cqh Source: droppable.js, line 1 Methods &lt;protected, inner&gt; config() 初始化-config Source: droppable.js, line 44 Returns: Type Void &lt;protected, inner&gt; destroy() 销毁-destroy Source: droppable.js, line 80 Returns: Type Void &lt;protected, inner&gt; init() 初始化-init Source: droppable.js, line 62 Returns: Type Void Events dragenter 拖拽进入该元素时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: droppable.js, line 94 dragleave 拖拽离开该元素时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: droppable.js, line 135 dragover 拖拽在该元素上方时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 ratioX Number 鼠标指针相对于接收元素所占的长度比 ratioY Number 鼠标指针相对于接收元素所占的高度比 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 cancel function 取消拖拽操作 Source: droppable.js, line 176 drop 拖拽放置时触发 Properties: Name Type Description sender Object 事件发送对象，为当前droppable origin Object 拖拽源，为拖拽的draggable source Object 拖拽起始元素 proxy Object 拖拽代理元素 target Object 拖拽目标元素 data Object 拖拽时接收到的数据 ratioX Number 鼠标指针相对于接收元素所占的长度比 ratioY Number 鼠标指针相对于接收元素所占的高度比 screenX Number 鼠标指针相对于屏幕的水平位置 screenY Number 鼠标指针相对于屏幕的垂直位置 clientX Number 鼠标指针相对于浏览器的水平位置 clientY Number 鼠标指针相对于浏览器的垂直位置 pageX Number 鼠标指针相对于页面的水平位置 pageY Number 鼠标指针相对于页面的垂直位置 movementX Number 鼠标指针水平位置相对于上次操作的偏移量 movementY Number 鼠标指针垂直位置相对于上次操作的偏移量 Source: droppable.js, line 225 × Search results Close "},"module-pool_component-drag-drop_src_dragDrop.html":{"id":"module-pool_component-drag-drop_src_dragDrop.html","title":"Module: pool/component-drag-drop/src/dragDrop","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Module: pool/component-drag-drop/src/dragDrop 拖拽数据模型 Version: 1.0 Author: cqh Source: dragDrop.js, line 1 × Search results Close "},"module-pool_component-drag-drop_src_util.html":{"id":"module-pool_component-drag-drop_src_util.html","title":"Module: pool/component-drag-drop/src/util","body":" 教育产品组件开发文档 Modules pool/component-drag-drop/src/dragDroppool/component-drag-drop/src/draggablepool/component-drag-drop/src/droppablepool/component-drag-drop/src/util Events event:drag 正在拖拽时触发event:dragend 拖拽结束时触发event:dragenter 拖拽进入该元素时触发event:dragleave 拖拽离开该元素时触发event:dragover 拖拽在该元素上方时触发event:dragstart 拖拽开始时触发event:drop 拖拽放置时触发 Module: pool/component-drag-drop/src/util drag-drop 工具类文件 Version: 1.0 Author: cqh Source: util.js, line 1 Methods &lt;inner&gt; getDimension(elem) 获取元素的位置信息 Parameters: Name Type Description elem Element Source: util.js, line 45 Returns: {width: xx, height: xx, top:xx ,left:xx} Type Object &lt;inner&gt; getOffset(elem) 获取元素的clientWidth，clientHeight Parameters: Name Type Description elem Element Source: util.js, line 34 Returns: {width: xx, height: xx} Type Object &lt;inner&gt; getPosition(elem) 获取元素相对于document边界的top,left Parameters: Name Type Description elem Element Source: util.js, line 13 Returns: {top: xx, left: xx} Type Object × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
