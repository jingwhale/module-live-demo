<div class="ux-dropdown ux-suggest {class}" r-class={{"z-dis":disabled}} r-hide={!visible} ref="element">
    <ux-validation rules={rules} value={selected}  ref="validation" state={state}>
        <div class="ux-dropdown_hd">
            {#if hasDown}
                <i class="ux-icon ux-icon-caret-down" on-click={this.showDropDown()}></i>
            {/if}
            <ux-input type="text" ref="input" disabled={disabled} value={value} autofocus={autofocus} placeholder={placeholder} on-focus={this.onInput()} on-keyup={this.keyup($event)}/>
        </div>
        <div class="ux-dropdown_bd {up?'up':'down'}" ref="bd" r-hide={!open || source.length == 0} r-animation="on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;">
            <ul class="ux-dropdown_listview" ref="list">
                {#list source as item}
                {#if this.filterItem(item)}
                <li class="f-thide"  title={item.name} on-click={this.click(item, item_index)} r-class={{"current":current == item_index,"z-dis":item.disabled,"z-divider":item.divider}}>{#if @(itemTemplate)}{#inc @(itemTemplate)}{#else}{item.name}{/if}</li>
                {/if}
                {/list}
            </ul>
        </div>
        {#if showEmptyText}
        <div class="ux-dropdown_bd {up?'up':'down'}" style="display: block;">
            <div class="ux-suggest_empty ux-dropdown_listview">
            {emptyText}
            </div>
        </div>
        {/if}
    </ux-validation>
</div>
